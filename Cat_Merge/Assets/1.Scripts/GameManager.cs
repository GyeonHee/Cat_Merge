using UnityEngine;
using TMPro;

// GameManager Script
public class GameManager : MonoBehaviour
{
    // Data
    private Cat[] allCatData;                               // 모든 고양이 데이터 보유
    public Cat[] AllCatData => allCatData;

    private int maxCats = 8;                                // 화면 내 최대 고양이 수
    private int currentCatCount = 0;                        // 화면 내 고양이 수

    // UI
    [SerializeField] private TextMeshProUGUI catCountText;  // 고양이 수 텍스트

    private void Awake()
    {
        LoadAllCats();
        UpdateCatCountText();
    }

    // 고양이 정보 Load 함수
    private void LoadAllCats()
    {
        allCatData = Resources.LoadAll<Cat>("Cats");
    }

    // 고양이 수 판별 함수
    public bool CanSpawnCat()
    {
        return currentCatCount < maxCats;
    }

    // 현재 고양이 수 증가시키는 함수
    public void AddCatCount()
    {
        if (currentCatCount < maxCats)
        {
            currentCatCount++;
            UpdateCatCountText();
        }
    }

    // 현재 고양이 수 감소시키는 함수
    public void DeleteCatCount()
    {
        if (currentCatCount > 0)
        {
            currentCatCount--;
            UpdateCatCountText();
        }
    }

    // 고양이 수 텍스트 UI 업데이트하는 함수
    private void UpdateCatCountText()
    {
        if (catCountText != null)
        {
            catCountText.text = $"{currentCatCount} / {maxCats}";
        }
    }

}
